<!DOCTYPE html>
<html>
  <head>
    <title>Sentencing Calculator</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <script type="application/javascript">
  </script>
  <body>
    <!-- Sidebar Navigation -->
    <div class='sidebar'>
      <img src="https://cdn.cp.adobe.io/content/2/rendition/c04e909a-a6e9-4bed-b69b-c3e47e3632b6/artwork/b4462e73-dca2-4dca-ba13-979f5716fe64/version/0/format/jpg/dimension/width/size/220" style="height:140px">
      <p>Saved Defendants</p>
      <div id="defendant-list">
      </div>
      <p>Options</p>
      <a href='javascript:void(0)' class="option" id="new-defendant" onclick="newDefendant()"> New Defendant</a>
      <a href='javascript:void(0)' class="option" id="new-session"> New Session</a>
    </div>

     <!-- Main Content -->
     
    <div class="main">
      <h1>Sentencing Calculator</h1>
      <p>Session ID:
        <span id="session-id" class="tooltip">
          <span class="tooltiptext">This ID is used to retrieve the defendants that you save.<br>These IDs are destroyed automatically after 7 days.</span>
        </span> <button onclick="copy()">Copy to Clipboard</button>
      </p>
      <p><i>(Enter another session ID)</i>: <input id="previous-session-field"> <button id="previous-session-button" onclick="newSession()">Submit</button></p>
      

      <br>
      
      <div id="new-defendant-form-container" style="display: block;">

        <h2>New Calculation</h2>
        <form id="add-defendant-form">
          <label for="name">Name of the Defendant:</label>
          <input type="text" name="name" id="defendant-name" value required><br><br>

          <button class="new-count" type="button">Add Count</button><br><br>
          <div id="counts">
            <label for="count" class="count">Count 1:</label>
            <input type="text" name="count-1" class="offence" placeholder="offence" value required>
            <input type="number" min="0" name="years_1" placeholder="years" class="gordon-num years count-1" onkeyup="calculateSentence()">
            <input type="number" min="0" name="months_1" placeholder="months" class="gordon-num months count-1" onkeyup="calculateSentence()">
            <input type="number" min="0" name="weeks_1" placeholder="weeks" class="gordon-num weeks count-1" onkeyup="calculateSentence()">
            <input type="number" min="0" name="days_1" placeholder="days" class="gordon-num days count-1" onkeyup="calculateSentence()"><br><br>
          </div>
          

          <div id="concurrent-question" style="display: none">
            <label for="concurrent">All Concurrent?</label>
            <input type="checkbox" id="concurrent-check" onclick="calculateSentence()" checked><br><br>
          </div>

          <div id="concurrency-table" style="display: none">
            <table id="con-tab" style="display: block">
            <p>
              <span class="tooltip"><b>Concurrency Table</b>
                <span class="tooltiptext">Select which pairs of counts are concurrent with others. If left unchecked, the counts are assumed to be consecutive.</span>
              </span>
            </p>
            <tr class="table-headers">
              <th class="space">&nbsp;</th>
              <th id="col1">1</th>
              <!--Here, columns <th> need to be appended for every count added.-->
            </tr>
            <tr id="row1">
              <th>1</th>
              <td>-</td>
              <!--
                Here, there will be the same number of <td>s as there are counts.
                A checkbox will be added ONLY IF the col-number is greater than the row-number.
              -->
            </tr>
            </table>
          </div>
          <br>

          <label for="discount">Discount:</label>
          <input type="number" name="discount" placeholder="e.g. 25, 33.3" class="num-field" id="discount" onkeyup="calculateSentence()"> %<br><br>

          <!-- Unsure about the nature of the following.
            <label for="sentencing">Date of sentencing:</label>
            <input type="date" name="date" value required><br><br><br>
          --> 

          <h3>Total Sentence:</h3>
          <p id="sentence-comp">0 months, 0 days</p>

          <button type="submit">Save Defendant</button>

        </form>
      </div>

      <div id="defendant-display" style="display: none;"> <!--TODO Build a display for when an existing defendant has been clicked-->
        <h2 id="display-name">Defendant</h2>
        <br>
        <p><b>Counts:</b></p>
        <ul id="display-counts">
        </ul>
        <br>
        <p><b>Discount: </b><span id="display-discount"></span>%</p>
        <!-- 
        <br>
        <p><b>Concurrency: </b><span id="display-concurrent">All counts marked as consecutive.</span></p>
        <br>
        -->
        <p><b>Total sentence: </b><span id="display-sentence"></span></p>
        <!--
        <table> !! Maybe another time.
          <tr>
            <th>Count</th>  
            <th>Length</th>
          </tr>
        </table>
        -->
      </div>

    </div>
    
    <script type="text/javascript" src="src/components/defendants.js" /></script>
    <script type="text/javascript" src="src/adapters/DefendantsAdapter.js"></script>
    <script type="text/javascript" src="src/components/app.js"></script>
    <script type="text/javascript" src="src/index.js"></script>
  </body>
</html>
